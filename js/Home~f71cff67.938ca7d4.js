(window.webpackJsonp=window.webpackJsonp||[]).push([["Home~f71cff67"],{"29a8":function(e,t,r){},"3ee2":function(e,t,r){"use strict";r("6faf")},"5f1c":function(e,t,r){"use strict";r("29a8")},"6faf":function(e,t,r){},bb51:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a={class:"home"};var c={class:"reel"},o={class:"reel-title"},u=["src"],i=Object(n.h)(" franklion repo list: "),s={class:"card-container"};var l=r("5530"),d=r("1da1"),f=(r("99af"),r("d3b7"),r("159b"),r("96cf"),r("d4ec")),p=r("bee2"),b=r("262e"),v=r("2caf"),j=r("ade3"),O=(r("d9e2"),r("bc3a")),m=r.n(O);m.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),m.a.interceptors.response.use((function(e){return e}));var g=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,null,[{key:"callAxios",value:function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(t,r,n,a,c,o){var u,i,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=o||{"Content-Type":a||"application/json"},c&&(u.Authorization="Bearer ".concat(c)),e.prev=2,e.next=5,m()({headers:u,method:t,url:r,data:n});case 5:if(i=e.sent,s=i.status,l=i.data,200!==s){e.next=10;break}return e.abrupt("return",l);case 10:throw new Error("Request Error");case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r,n,a,c,o){return e.apply(this,arguments)}}()}]),e}();Object(j.a)(g,"TOKEN",void 0);var h=function(e){Object(b.a)(r,e);var t=Object(v.a)(r);function r(){return Object(f.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,null,[{key:"getUserInfo",value:function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callAxios("GET","https://api.github.com/users/franklion",null,null,!1);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRepoList",value:function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callAxios("GET","".concat(t?"https://api.github.com/users/franklion/repos?per_page=".concat(null==t?void 0:t.per_page,"&page=").concat(null==t?void 0:t.page):"https://api.github.com/users/franklion/repos"),null,null,!1);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(g),x=(r("b0c0"),r("a4d3"),r("e01a"),{class:"card"}),w={key:0,class:"card-title"},k={key:1,class:"card-desc"},y=["href","title"];var R={props:{cardDetail:{type:Object,default:function(){}}},name:"ReelCard"},E=(r("5f1c"),r("6b0d")),L=r.n(E);var A=L()(R,[["render",function(e,t,r,a,c,o){var u,i,s,l,d,f,p,b;return Object(n.r)(),Object(n.f)("div",x,[null!==(u=r.cardDetail)&&void 0!==u&&u.name?(Object(n.r)(),Object(n.f)("div",w,Object(n.A)(null===(i=r.cardDetail)||void 0===i?void 0:i.name),1)):Object(n.e)("",!0),null!==(s=r.cardDetail)&&void 0!==s&&s.description?(Object(n.r)(),Object(n.f)("div",k,Object(n.A)(null===(l=r.cardDetail)||void 0===l?void 0:l.description),1)):Object(n.e)("",!0),null!==(d=r.cardDetail)&&void 0!==d&&d.url?(Object(n.r)(),Object(n.f)("a",{key:2,class:"card-url",href:null===(f=r.cardDetail)||void 0===f?void 0:f.url,target:"_blank",title:null===(p=r.cardDetail)||void 0===p?void 0:p.url},Object(n.A)(null===(b=r.cardDetail)||void 0===b?void 0:b.url),9,y)):Object(n.e)("",!0)])}],["__scopeId","data-v-2fe30476"]]),D=r("a1e9"),I=r("5c40"),_={components:{ReelCard:A},name:"Reel",setup:function(){var e=Object(D.l)({repoList:[]}),t=Object(D.m)(1),r=Object(D.m)(1),n=Object(D.m)(0),a=0,c=function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getUserInfo();case 2:t=e.sent,n.value=null==t?void 0:t.public_repos,n.value%6?r.value=Math.floor(n.value/6)+1:r.value=n.value/6;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var a=Object(d.a)(regeneratorRuntime.mark((function a(){var c;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.getRepoList({per_page:6,page:t.value});case 2:if(c=a.sent,!n.value){a.next=7;break}if(!(t.value>=r.value)){a.next=6;break}return a.abrupt("return");case 6:e.repoList=e.repoList.concat(c);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),u=function(){var e=document.querySelectorAll(".card"),t=new IntersectionObserver((function(e){e.forEach((function(e){e.target.classList.toggle("show",e.isIntersecting)}))}),{threshold:.5,rootMargin:"-50px"});e.length&&e.forEach((function(e){t.observe(e)}))},i=function(){clearTimeout(a),a=setTimeout(Object(d.a)(regeneratorRuntime.mark((function e(){var n,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.clientHeight||document.body.clientHeight,c=document.documentElement.scrollHeight-100||document.body.scrollHeight-100,!(n+a>=c)){e.next=9;break}if(!(t.value<r.value)){e.next=9;break}return t.value+=1,e.next=8,o();case 8:u();case 9:case"end":return e.stop()}}),e)}))),50)};return Object(I.x)(Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return e.next=4,o();case 4:u(),window.addEventListener("scroll",i);case 6:case"end":return e.stop()}}),e)})))),Object(I.y)((function(){window.addEventListener("scroll",i)})),Object(l.a)(Object(l.a)({},Object(D.r)(e)),{},{pageIndex:t,totalPage:r})}};r("3ee2");var T={name:"Home",components:{Reel:L()(_,[["render",function(e,t,a,l,d,f){var p,b=Object(n.y)("reel-card");return Object(n.r)(),Object(n.f)("div",c,[Object(n.g)("div",o,[Object(n.g)("img",{class:"lion",src:r("ea7b"),alt:"Lion"},null,8,u),i]),Object(n.g)("div",s,[(Object(n.r)(!0),Object(n.f)(n.a,null,Object(n.x)(e.repoList,(function(e,t){return Object(n.r)(),Object(n.d)(b,{"card-detail":e,key:"repoIndex".concat(t)},null,8,["card-detail"])})),128))]),Object(n.E)(Object(n.g)("div",{class:"hint"},Object(n.A)(l.pageIndex===l.totalPage?"沒有更多資料囉":"加載中..."),513),[[n.C,null===(p=e.repoList)||void 0===p?void 0:p.length]])])}],["__scopeId","data-v-0ba631cf"]])}};const H=L()(T,[["render",function(e,t,r,c,o,u){var i=Object(n.y)("Reel");return Object(n.r)(),Object(n.f)("div",a,[Object(n.i)(i)])}]]);t.default=H},ea7b:function(e,t,r){e.exports=r.p+"img/lion.48f19f40.png"}}]);